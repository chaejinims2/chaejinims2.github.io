<!doctype html>
<html lang="{{ site.locale | replace: '_', '-' | default: 'ko' }}">
  <head>
    {% include head.html %}
    <title>{{ page.title | default: site.title }}</title>
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/tokens.css" />
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/base.css" />
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/startup.css" />
  </head>
  <body data-theme="dark" class="body-home">
    <div class="startup-root">
      <header class="startup-hero">
        <h1 class="startup-title">{{ page.title | default: site.title }}</h1>
        {% if page.lead %}
        <p class="startup-lead">{{ page.lead }}</p>
        {% endif %}
        <a href="{{ site.baseurl }}/home/about/index" class="startup-enter">Explore</a>
      </header>
      <main class="startup-main">
        <article class="startup-content">
          {{ content }}
        </article>
      </main>
      <footer class="startup-footer">
        <div class="startup-counter" aria-live="polite">
          <span class="startup-counter-item"><span class="startup-counter-label">Today</span> <span id="startup-count-today">-</span></span>
          <span class="startup-counter-item"><span class="startup-counter-label">Total</span> <span id="startup-count-total">-</span></span>
        </div>
        <span class="startup-footer-copy">Â© {{ site.time | date: '%Y' }} {{ site.title }}</span>
      </footer>
    </div>
    {% include scripts.html %}
    <script>
    (function() {
      var apiUrl = {{ site.visitor_count_api | default: "" | jsonify }};
      if (!apiUrl) return;
      var elToday = document.getElementById('startup-count-today');
      var elTotal = document.getElementById('startup-count-total');
      function setToday(n) { if (elToday) elToday.textContent = typeof n === 'number' ? n : '-'; }
      function setTotal(n) { if (elTotal) elTotal.textContent = typeof n === 'number' ? n : '-'; }
      fetch(apiUrl, { method: 'GET', credentials: 'omit' })
        .then(function(r) { return r.json(); })
        .then(function(d) { setToday(d.today); setTotal(d.total); })
        .catch(function() { setToday(null); setTotal(null); });
    })();
    </script>
  </body>
</html>
